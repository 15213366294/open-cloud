#\u670D\u52A1\u5668\u914D\u7F6E
server.port=8888
#spring\u914D\u7F6E
spring.application.name=opencloud-gateway-provider
spring.profiles.active=${config.namespace}
#\u914D\u7F6E\u4E2D\u5FC3
spring.cloud.nacos.config.server-addr=${config.server-addr}
#\u670D\u52A1\u53D1\u73B0
spring.cloud.nacos.discovery.server-addr=${discovery.server-addr}
spring.cloud.nacos.discovery.metadata.name=\u7F51\u5173\u670D\u52A1
#\u8D44\u6E90\u670D\u52A1\u5668,\u4F7F\u7528\u7F51\u5173\u5B89\u5168\u914D\u7F6E
security.oauth2.client.client-id=${opencloud.gateway.client-id}
security.oauth2.client.client-secret=${opencloud.gateway.client-secret}
security.oauth2.client.scope=${opencloud.gateway.scope}
security.oauth2.client.access-token-uri=${opencloud.gateway.access-token-uri}
security.oauth2.client.user-authorization-uri=${opencloud.gateway.user-info-uri}
security.oauth2.resource.token-info-uri=${opencloud.gateway.token-info-uri}
security.oauth2.resource.user-info-uri=${opencloud.gateway.user-info-uri}

#\u66B4\u9732\u7AEF\u70B9
management.endpoints.web.exposure.include=refresh,health,refresh-gateway
#\u5176\u9ED8\u8BA4\u7684\u662F\u4FE1\u53F7\u91CF\uFF08semaphore\uFF09\u5BF9\u8DEF\u7531\u505A\u9694\u79BB\uFF0C\u9ED8\u8BA4\u503C\u662F100\uFF0C\u5F53\u4E00\u4E2A\u8DEF\u7531\u8BF7\u6C42\u7684\u4FE1\u53F7\u91CF\u9AD8\u4E8E100\u5C31\u8FD4\u56DE500\u3002
zuul.semaphore.max-semaphores=5000 
#\u4F18\u5316ribbon\u548Chystrix\u8D85\u65F6\u65F6\u95F4,\u89E3\u51B3\u9996\u6B21\u8BBF\u95EE\u8D85\u65F6\u7194\u65AD
#\u662F\u5426\u5F00\u542F\u8DEF\u7531\u91CD\u8BD5
zuul.retryable=true
#\u5BF9\u5F53\u524D\u5B9E\u4F8B\u7684\u91CD\u8BD5\u6B21\u6570
ribbon.MaxAutoRetries=10
#\u5207\u6362\u5B9E\u4F8B\u7684\u91CD\u8BD5\u6B21\u6570
ribbon.MaxAutoRetriesNextServer=10
#\u8BF7\u6C42\u5904\u7406\u7684\u8D85\u65F6\u65F6\u95F4
ribbon.ReadTimeout=5000
#\u8BF7\u6C42\u8FDE\u63A5\u7684\u8D85\u65F6\u65F6\u95F4
ribbon.ConnectTimeout=30000
#\u5BF9\u6240\u6709\u64CD\u4F5C\u8BF7\u6C42\u90FD\u8FDB\u884C\u91CD\u8BD5
ribbon.OkToRetryOnAllOperations=true
#\u6700\u5927http\u8FDE\u63A5\u6570
ribbon.MaxTotalHttpConnections=1000
#\u6BCF\u4E2Ahost\u6700\u5927\u8FDE\u63A5\u6570
ribbon.MaxConnectionsPerHost=100
#\u7EBF\u7A0B\u6C60\u6570\u91CF
hystrix.threadpool.default.coreSize=1000 
#Hystrix\u662F\u5426\u542F\u7528\u8D85\u65F6\u65F6\u95F4
hystrix.command.default.execution.timeout.enabled=true
# hystrix \u8D85\u65F6\u65F6\u95F4\u6700\u597D\u5927\u4E8ERibbon\u7684\u8D85\u65F6\u65F6\u95F4
hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds=60000
#\u9694\u79BB\u7B56\u7565
hystrix.command.default.execution.isolation.strategy=SEMAPHORE
#\u4FE1\u53F7\u91CF\u5927\u5C0F
hystrix.command.default.execution.isolation.semaphore.max-semaphores=2000
#\u8DEF\u7531\u914D\u7F6E
#\u7981\u6B62\u4EE3\u7406\u6240\u6709\u670D\u52A1,\u53EA\u6709\u914D\u7F6E\u8DEF\u7531\u7684\u624D\u751F\u6548
zuul.ignored-services=*
#\u654F\u611F\u8BF7\u6C42\u5934,\u6E05\u7A7A\u9ED8\u8BA4\u7684\u914D\u7F6E
zuul.sensitive-headers=
#\u4E0D\u66B4\u9732\u4EE3\u7406\u670D\u52A1\u771F\u5B9E\u7684ip
zuul.add-host-header=true
zuul.host.socket-timeout-millis=60000
zuul.host.connect-timeout-millis=10000
zuul.routes.opencloud-base-provider.path=/base/**
zuul.routes.opencloud-base-provider.serviceId=opencloud-base-provider
zuul.routes.opencloud-auth-provider.path=/auth/**
zuul.routes.opencloud-auth-provider.serviceId=opencloud-auth-provider
zuul.routes.opencloud-msg-provider.path=/msg/**
zuul.routes.opencloud-msg-provider.serviceId=opencloud-msg-provider
#\u8DEF\u7531\u9650\u6D41
zuul.ratelimit.key-prefix=cloud_rate_limit
zuul.ratelimit.enabled=true
zuul.ratelimit.behind-proxy=true
zuul.ratelimit.repository=REDIS


# zipkin \u914D\u7F6E
# \u91C7\u96C6\u7387
spring.sleuth.sampler.probability=0.1
# zipkin\u94FE\u63A5\u65B9\u5F0F
spring.zipkin.sender.type=rabbit
#\u662F\u5426\u542F\u52A8zipkin\uFF0C\u9ED8\u8BA4\u4E3Atrue
spring.zipkin.enabled=true
# \u652F\u6301\u901A\u8FC7\u670D\u52A1\u53D1\u73B0\u6765\u5B9A\u4F4Dhost name\uFF1A
spring.zipkin.locator.discovery.enabled=true


#Nacos\u5171\u4EAB\u914D\u7F6E
spring.cloud.nacos.config.shared-dataids=bootstrap-common.properties
spring.cloud.nacos.config.refreshable-dataids=bootstrap-common.properties
spring.cloud.nacos.config.namespace=PUBLIC
